<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>MARKS</title>
    <link rel="stylesheet" th:href="@{../../css/main/style.css}">
    <!-- endinject -->
    <link rel="shortcut icon" th:href="@{../../images/icons/main.ico}" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!--<script src="/js/jqueryMarksHendler.js"></script>-->

    <style>
        .box{

        border: 1px double black;
        /*margin: 0 auto;*/
        background: lime

        }

        .box td, th, input{

        text-align: center;
        border: 1px double black;
        padding: 0 20px;

        }

    </style>

</head>
<body>
<div class="container-scroller">
    <!-- partial:partials/_horizontal-navbar.html -->
    <div class="horizontal-menu">
        <nav class="navbar top-navbar col-lg-12 col-12 p-0">
            <div class="container">
                <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-center ">
                    <a class="navbar-brand brand-logo" th:href="@{index.html}">
                        <img th:src="@{../../images/icons/main.png}" alt="profile"/>
                    </a>

                </div>
                <div class="navbar-menu-wrapper d-flex align-items-stretch justify-content-center justify-content-lg-center">

                    <ul class="navbar-nav navbar-nav-right">

                        <li class="nav-item nav-profile dropdown">
                            <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="profileDropdown">
                                <img th:src="@{../../images/faces/face5.jpg}" alt="profile"/>
                                <span class="nav-profile-name">Evan Morales</span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
                                <a class="dropdown-item">
                                    <i class="mdi mdi-settings text-primary"></i>
                                    Settings
                                </a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item">
                                    <i class="mdi mdi-logout text-primary"></i>
                                    Logout
                                </a>
                            </div>
                        </li>
                    </ul>
                    <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="horizontal-menu-toggle">
                        <span class="mdi mdi-menu"></span>
                    </button>
                </div>
            </div>
        </nav>
        <nav class="bottom-navbar">
            <div class="container">
                <ul class="nav page-navigation">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/schedule}">
                            <img th:src="@{../../images/icons/schedule.png}" alt="profile"/>
                            <span class="menu-title">Розклад занять</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/homework}">
                            <img th:src="@{../../images/icons/dz.png}" alt="profile"/>
                            <span class="menu-title">Домашня робота</span>
                        </a>
                    </li>
                    <li class="nav-item mega-menu">
                        <a th:href="@{/marks}" class="nav-link">
                            <img th:src="@{../../images/icons/classjornal.png}" alt="profile"/>
                            <span class="menu-title">Класний журнал</span>
                            <!--                <i class="menu-arrow"></i>-->
                        </a>

                    </li>

                    <li class="nav-item">
                        <a th:href="@{#}" class="nav-link">
                            <img th:src="@{../../images/icons/edit(24).png}" alt="profile"/>
                            <span class="menu-title">Додавання елементів</span>
                            <!--                <i class="menu-arrow"></i></a>-->
                        </a>
                        <div class="submenu">
                            <ul class="submenu-item">
                                <li class="nav-item"><a class="nav-link" th:href="@{/registrationFunctional}">Предмети(вибір)</a></li>
                                <li class="nav-item"><a class="nav-link" th:href="@{/registrationSubjects}">Предмети(додавання)</a></li>
                                <li class="nav-item"><a class="nav-link" th:href="@{/registrationClasses}">Класи</a></li>
                                <li class="nav-item"><a class="nav-link" th:href="@{/regAddElements/all}">Налаштування</a></li>
                            </ul>
                        </div>

                    </li>
                    <li class="nav-item">
                        <a th:href="@{/saveNewUser}" class="nav-link">
                            <img th:src="@{../../images/icons/regg.png}" alt="profile"/>
                            <span class="menu-title">Реєстрація користувачів</span></a>


                    </li>
                </ul>
            </div>
        </nav>
    </div>

    <!--     partial -->
    <div class="container-fluid page-body-wrapper">
        <div class="main-panel">
            <div class="content-wrapper">
                <div class="row">
                    <div class="col-lg-3 col-md-6 grid-margin stretch-card">
                        <!--start-->


<form id="formSelectElements" th:action="@{/SelectElements}" method="GET">
    <div>
        <h1>Класний журнал</h1>


        <label>Класс:
            <select id="classes_id" name="classes" >
                <option>------</option>
                <option
                        th:each="class : ${classes}"
                        th:value="${class.id}"
                        th:text="${class.name}">
                </option>
            </select>
        </label>


        <label>Предмет:
            <select name="subjects" >
                <option>------</option>
                <option th:each="subject : ${subjects}"
                        th:value="${subject.id}"
                        th:text="${subject.name}">
                </option>
            </select>
        </label>


        <label>Місяць/Період:
            <select name="months" >
                <option>------</option>
                <option  th:each="month : ${months}"
                        th:value="${month}"
                        th:text="${month}">
                </option>
            </select>
        </label>


        <button id="btnSelectElements" th:formaction="@{/buttonSelectElements}" method="GET">Відобразити</button>
        <!--<button id="btnSalectElements">Відобразити</button>-->
    </div>
</form>
<br/>
<p>[[${classed}]] --- [[${subjected}]] -- [[${monthed}]]</p>
<br/>
<form th:action="@{/SelectMarks}" method="GET">
    <table class="box">
        <thead>
            <tr>
                <th>
                    №
                </th>

                <th>
                    ПІБ
                </th>
                <th th:each="date:${dates}">
                    [[${date}]]
                </th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="student:${students}">
                <td>
                   <p>[[${student.id}]]</p>
                </td>
                <td>
                    <p>[[${student.name}]]</p>
                </td>
                <td th:each="date:${dates}">
                    <!--<input type="" name="marks" th:value="${class_jounal.marks}">-->
                    <input type="" name="marks" placeholder="marks">
                </td>
            </tr>

        </tbody>

    </table>

    <button id="btnSaveMarks" th:formaction="@{/buttonSaveMarks}" method="GET">Зберегти</button>
</form>
<script>

        $("#btnSelectElements").click(function (e) {

            window.onload = function() {
                // e.preventDefault();

                console.log('Документ и все ресурсы загружены');

            };

            let getClasses = document.getElementById("classes_id");
            let oneClasses = $("select[name='classes']").val();
            console.log(getClasses);
            console.log(oneClasses);


            // $("select[id='elementsOne']").val();
            for (let i = 0; i < getClasses.options.length; i++) {
                if (getClasses.options[i].value === oneClasses) {
                    getClasses.options[i].selected = true;
                }
            }
        })



</script>
                    </div>

                    <!-- partial -->
                </div>
                <!-- main-panel ends -->
            </div>
            <footer class="footer">
                <div class="w-100 clearfix">
                    <span class="text-muted d-block text-center text-sm-left d-sm-inline-block">Copyright © 2019 <a href="http://www.urbanui.com/" target="_blank">SchoolProject</a>. All rights reserved.</span>

                </div>
            </footer>
            <!-- page-body-wrapper ends -->
        </div>
    </div>
</div>
</body>
</html>